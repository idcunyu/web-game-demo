{"version":3,"file":"components/game-drop.js","sources":["webpack:///./components/game/drop.js"],"sourcesContent":["// 掉落\nconst dropObj = function (type, imgSrc, getScoreHeight) {\n  // type: 1：金币，2：银币，3：铜币，4：炸弹\n  this.dropBody = new Image();\n  this.dropBody.src = imgSrc;\n\n  this.x = Math.floor(Math.random() * (document.body.clientWidth - 30));\n  this.y = -100;\n  this.speed = Math.floor(Math.random() * 2) + 3;\n  this.type = type;\n  this.count = 0;\n  this.score = 0;\n\n  this.show = 1;\n  this.moving = 1;\n  this.isScored = 0;\n\n  this.getScoreHeight = getScoreHeight + 30;\n  switch (type) {\n    case 1: this.score = 300; break;\n    case 2: this.score = 200; break;\n    case 3: this.score = 100; break;\n    case 4: this.score = -150; break;\n    default: this.score = 0; break;\n  }\n};\n\ndropObj.prototype = {\n  init(ctx2, dropWidth, dropHeight) {\n    ctx2.drawImage(this.dropBody, this.x, this.y, dropWidth, dropHeight);\n  },\n  draw(ctx2, dropWidth, dropHeight, boxWidth, mx) {\n    if (\n      this.show &&\n      this.moving &&\n      !this.isScored &&\n      (document.body.clientHeight - this.y < this.getScoreHeight) &&\n      (document.body.clientHeight - this.y > this.getScoreHeight - 20) &&\n      (this.x >= mx - boxWidth / 2 && this.x + dropWidth <= mx + boxWidth / 2)\n    ) {\n      this.show = 0;\n      this.moving = 1;\n      this.isScored = 1;\n      return this.score;\n    } else if (\n      this.show &&\n      this.moving &&\n      !this.isScored &&\n      (document.body.clientHeight - this.y <= 0)\n    ) {\n      this.show = 0;\n      this.moving = 0;\n      return 0;\n    } else if (\n      !this.moving &&\n      (document.body.clientHeight - this.y <= this.getScoreHeight - 20) &&\n      (document.body.clientHeight - this.y > 0)\n    ) {\n      this.moving = 0;\n      return 0;\n    }\n\n    this.y = this.speed * this.count;\n    this.count++;\n    ctx2.save();\n    ctx2.drawImage(this.dropBody, this.x, this.y, dropWidth, dropHeight);\n    ctx2.restore();\n    return 0;\n  },\n};\n\nexport default dropObj;\n"],"mappings":";;;;;;;AAAA;AAAA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AALA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAQA;AACA;AACA;AACA;AACA;AAMA;AACA;AACA;AACA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA1CA;AA4CA;;;;A","sourceRoot":""}